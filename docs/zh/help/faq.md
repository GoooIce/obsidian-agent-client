# 常见问题

关于 Agent Client 的常见问题。

## 一般问题

### 什么是 Agent Client？

Agent Client 是一个 Obsidian 插件，让你可以直接在 Obsidian 中与 AI agent 聊天。它支持 Claude Code、Codex、Gemini CLI 以及任何兼容 ACP 的 agent。该插件使用 [Agent Client Protocol (ACP)](https://agentclientprotocol.com/) 与 agent 通信。

### 这是官方的 Anthropic/OpenAI/Google 插件吗？

不是。Agent Client 是社区开发的插件。它使用官方的 agent 包，但不隶属于任何 AI 提供商。

### 在移动端上能用吗？

不能。Agent Client 仅限桌面端。Agent 作为本地进程运行，这在移动设备上不受支持。

### 我的数据会发送给 AI 提供商吗？

是的。当你发送消息时，它由你选择的 agent 背后的 AI 提供商（Anthropic、OpenAI、Google 等）处理。请查看每个提供商的隐私政策以了解详情。

## 笔记提及

### 如何在对话中引用我的笔记？

在输入框中输入 `@`，会出现一个包含匹配笔记的下拉菜单。选择一个笔记以 `@[[笔记名称]]` 格式插入提及。笔记的内容会发送给 agent。

详见 [笔记提及](/zh/usage/mentions)。

### 我可以更改提及的字符限制吗？

可以。在 **设置 → Agent Client → 提及** 中配置 **最大笔记长度** 和 **最大选区长度**。默认各为 10,000 字符。

### 什么是自动提及？

启用后（**设置 → Agent Client → 提及 → 自动提及活动笔记**），当前打开的笔记会自动作为上下文包含。与手动提及不同，自动提及只发送笔记的文件路径 — 不发送其内容。Agent 可以使用其读取工具在需要时访问内容。

### 我可以只包含笔记的一部分吗？

可以。如果你在笔记中选择文本，只有该选区会作为上下文发送。自动提及徽章会显示行范围（如 `@我的笔记:5-10`）。

### 如何临时禁用自动提及？

点击输入框上方自动提及徽章旁边的 **×** 按钮。点击 **+** 重新启用。这仅影响当前消息。

## Agent

### 如何在 agent 之间切换？

点击聊天标题中的 **⋮**（省略号）菜单并选择 **"切换 agent"**。Agent 会立即切换。这仅对该视图进行一次性更改。

要更改新聊天视图的默认 agent，请前往 **设置 → Agent Client → 默认 agent**。

### 我可以同时运行多个 agent 吗？

可以。使用命令面板中的 **"打开新聊天视图"** 或聊天标题中的 **⋮** 菜单打开多个聊天视图。每个视图运行独立的 agent 进程。

详见 [多会话聊天](/zh/usage/multi-session)。

### 如何向多个 agent 发送相同的提示？

使用 **广播** 命令：
1. 在一个聊天视图中输入提示
2. 打开命令面板并运行 **"广播提示"** 将其复制到所有视图
3. 运行 **"广播发送"** 同时发送

### 新聊天视图在哪里打开？

默认情况下，新视图在右侧窗格打开。你可以在 **设置 → Agent Client → 显示 → 聊天视图位置** 中更改此设置，改为在编辑区标签页或分屏中打开。

### 什么是自定义 agent？

任何兼容 ACP 的 agent，超出内置的（Claude Code、Codex、Gemini CLI）。你可以在 **设置 → Agent Client → 自定义 agent** 中添加自定义 agent。详见 [自定义 Agent](/zh/agent-setup/custom-agents)。

### 所有 agent 都支持相同的功能吗？

不是。斜杠命令、模式和模型等功能取决于 agent。插件根据 agent 支持的内容调整其 UI。例如，模式下拉菜单只在 agent 提供多种模式时才会出现。

## 斜杠命令

### 为什么我看不到斜杠命令？

斜杠命令由 agent 提供，不是插件提供。如果输入占位符不显示 `/ 输入命令`，你当前的 agent 不支持斜杠命令。

### 为什么命令与我预期的不同？

每个 agent 提供自己的命令。Claude Code、Codex 和 Gemini CLI 都有不同的命令集。请参阅 agent 的文档了解可用命令。

## 权限

### 为什么 agent 请求权限？

某些 agent 在执行某些操作（如编辑文件或运行命令）之前会请求权限。这是由 agent 控制的安全功能。

### 我可以自动批准所有权限吗？

可以。启用 **设置 → Agent Client → 权限 → 自动允许权限**。谨慎使用 — 这将给予 agent 完全访问权限，无需确认提示。

### 有些 agent 根本不请求权限？

是的。权限行为是 agent 特定的。某些 agent 可能直接编辑文件而不请求权限。

## 导出

### 如何导出对话？

点击聊天标题中的 **导出按钮**。对话会作为 Markdown 文件保存在你的库中。

### 导出保存在哪里？

默认情况下，导出保存在你库中的 `Agent Client` 文件夹。你可以在 **设置 → Agent Client → 导出 → 导出文件夹** 中更改此设置。

### 我可以自动导出对话吗？

可以。在导出设置中启用 **新聊天时自动导出** 或 **关闭聊天时自动导出**。

### 我可以自定义 frontmatter 标签吗？

可以。在 **设置 → Agent Client → 导出 → Frontmatter 标签** 中，你可以设置自定义标签。支持嵌套标签如 `projects/agent-client`。

## 会话历史

### 如何恢复之前的对话？

点击聊天标题中的 **历史** 按钮（时钟图标）打开会话历史模态框。选择一个会话并点击 **恢复** 按钮（播放图标）从你离开的地方继续。

详见 [会话历史](/zh/usage/session-history)。

### 恢复和分支有什么区别？

**恢复**继续现有会话 — 新消息添加到同一个对话中。**分支**从该点创建新会话，原始会话保持不变。

### 模态框显示"此 agent 不支持会话恢复"

并非所有 agent 都支持会话恢复。你仍然可以查看和删除本地保存的会话，但无法用该 agent 恢复或分支它们。

### 我的会话会自动保存吗？

会。当你发送消息时，插件会自动保存会话元数据和消息历史。会话本地存储在 Obsidian 的数据文件夹中。

### 我可以删除旧会话吗？

可以。打开会话历史模态框并点击任何会话上的 **删除** 按钮（垃圾桶图标）。删除是永久性的。

## Windows

### 什么是 WSL 模式？

WSL（Windows Subsystem for Linux）模式在 Windows 上的 Linux 环境中运行 agent。在 **设置 → Agent Client → Windows Subsystem for Linux → 启用 WSL 模式** 中启用它。这对于在 Linux 环境中工作更好的 agent 很有用。

### 我需要指定 WSL 发行版吗？

只有当你安装了多个 WSL 发行版并想使用特定一个时才需要。留空以使用你的默认发行版。

## 成本和计费

### Agent Client 是免费的吗？

插件本身是免费和开源的。但是，使用 AI agent 可能会产生费用，具体取决于 agent 和你的身份验证方式。

### API 密钥 vs 账户登录 — 有什么区别？

- **API 密钥**：按用量由 AI 提供商计费。你为你使用的付费。
- **账户登录**：使用你订阅的包含用量。可能有限制，具体取决于你的计划。

## 获取帮助

### 哪里可以获得帮助？

1. 查看 [故障排除](/zh/help/troubleshooting) 页面
2. 搜索 [GitHub Issues](https://github.com/RAIT-09/obsidian-agent-client/issues)
3. 如果你的问题没有被覆盖，开启新 issue

### 如何报告 bug？

在 [GitHub 上开启 issue](https://github.com/RAIT-09/obsidian-agent-client/issues/new)，包含：
- 你的操作系统和 Obsidian 版本
- 你使用的 agent
- 重现步骤
- 错误消息（在 **设置 → Agent Client → 开发者** 中启用 **调试模式**）
